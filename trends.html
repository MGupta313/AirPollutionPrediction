<!DOCTYPE html>
<meta charset="utf-8">
<style>

    .line {
        fill: none;
        stroke: steelblue;
        stroke-width: 2px;
    }

    


    @media print {
        .svg1 {
            page-break-after: always;
            page-break-before: always;
        }

    }

</style>
<body>

<a href="./map.html" target="_blank"><button>Trendline</button></a>

<script src="../lib/d3.v5.min.js"></script>
<script src="../lib/d3-dsv.min.js"></script>
<script src="../lib/d3-fetch.min.js"></script>
<script src="../lib/d3-scale-chromatic.v1.min.js"></script>
<script src="../lib/topojson.v2.min.js"></script>

<script>
var screenWidth = window.innerWidth;
var screenHeight = window.innerHeight;

    //var keys = ['5_5.9', '6_6.9', '7_7.9', '8.0+'];
    var lineColors = ['#FFC300', '#FF5733', '#C70039', '#900C3F'];

    function q1() {

        var graphWidth = screenWidth - 200;
        var graphHeight = screenHeight;

        var xScale = d3.scaleTime()
            .range([0, graphWidth - 600]);

        var yScale = d3.scaleLinear()
            .range([graphHeight - 300, 50]);

        var l4 = d3.line()
            .curve(d3.curveMonotoneX)
            .x(function (d) {
                return xScale(d.year);
            })
            .y(function (d) {
                return yScale(d['5_5.9']);
            });

        var svg = d3.select("body")
            .append("svg")
            .attr("width", graphWidth)
            .attr("height", graphHeight)
            .append("g")
            .attr("transform", "translate(" + (screenWidth - graphWidth) / 2 + "," + -(screenHeight - graphHeight - 100) / 2 + ")");

        svg.append("g")
                .call(d3.axisLeft(yScale));

        svg.append("g")
                .attr("transform", "translate(0," + (graphHeight - 300) + ")")
                .call(d3.axisBottom(xScale));

        svg.append("g")
                .append("text")
                .attr("transform", "translate(" + (200) + ", " + ((graphHeight - 500)) + ")")
                .text("Worldwide Earthquake stats 2000-2015");

        

		var myimage = svg.append('image')
		    .attr('xlink:href', 'http://lorempixel.com/200/200/')
		    .attr('width', 200)
		    .attr('height', 200)

/*

        d3.csv("earthquakes.csv", function (data) {
            return data;
        }).then(function (data) {

            xScale.domain(d3.extent(data, function (d) {
                return d.year;
            }));

            yScale.domain([0, d3.max(data, function (d) {
                return Math.max(d['8.0+'], d['7_7.9'], d['5_5.9'], d['6_6.9']);
            })]);

            svg.append("path")
                .attr("class", "line")
                .style("stroke", "#900C3F")
                .attr("d", l4(data));

            var yearScale = d3.scaleTime()
                .range([0, graphWidth - 600])
                .domain(d3.extent(data, function (d) {
                    return new Date(d.year);
                }));

            svg.append("g")
                .attr("transform", "translate(0," + (graphHeight - 300) + ")")
                .call(d3.axisBottom(yearScale));

            svg.append("text")
                .attr("class", "x label")
                .attr("x", graphWidth / 2 - 300)
                .attr("y", graphHeight - 250)
                .text("Year");

            svg.append("g")
                .call(d3.axisLeft(yScale));

            svg.append("text")
                .attr("class", "y label")
                .attr("x", -250)
                .attr("y", graphHeight - 600)
                .attr("transform", "rotate(-90)")
                .text("Num of Earthquakes");

            svg.append("g")
                .append("text")
                .attr("transform", "translate(" + (200) + ", " + ((graphHeight - 500)) + ")")
                .text("Worldwide Earthquake stats 2000-2015");

            

            
        });

*/
    }
    q1();

</script>
</body>
